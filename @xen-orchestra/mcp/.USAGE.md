[MCP](https://modelcontextprotocol.io/) (Model Context Protocol) is an open standard that lets AI assistants interact with external tools. This package provides an MCP server that connects AI assistants like Claude to your [Xen Orchestra](https://xen-orchestra.com/) infrastructure, allowing natural language queries about your pools, hosts, and VMs.

### Quick Start

**Claude Desktop** â€” Add to your config (`~/.config/claude-desktop/config.json`):

```json
{
  "mcpServers": {
    "xo": {
      "command": "npx",
      "args": ["@xen-orchestra/mcp"],
      "env": {
        "XO_URL": "https://your-xo-server",
        "XO_USERNAME": "admin@example.com",
        "XO_PASSWORD": "your-password"
      }
    }
  }
}
```

**Claude Code:**

```bash
claude mcp add xo \
  -e XO_URL=https://your-xo-server \
  -e XO_USERNAME=admin@example.com \
  -e XO_PASSWORD=your-password \
  -- npx @xen-orchestra/mcp
```

### Prerequisites

- **Node.js** >= 20
- **Xen Orchestra** instance with [REST API](https://docs.xen-orchestra.com/restapi) enabled
- An **AI assistant** that supports MCP (Claude Desktop, Claude Code, etc.)

### Configuration

| Variable      | Required | Description                                               |
| ------------- | -------- | --------------------------------------------------------- |
| `XO_URL`      | Yes      | Xen Orchestra server URL (e.g., `https://xo.example.com`) |
| `XO_USERNAME` | Yes      | XO user with admin privileges                             |
| `XO_PASSWORD` | Yes      | XO password                                               |

### Available Tools

| Tool                         | Description                                                                           |
| ---------------------------- | ------------------------------------------------------------------------------------- |
| `check_connection`           | Test the connection to the Xen Orchestra server                                       |
| `list_pools`                 | List all pools in Xen Orchestra with their basic information                          |
| `get_pool_dashboard`         | Get aggregated dashboard for a pool including hosts status, top consumers, and alarms |
| `list_hosts`                 | List all hosts (hypervisors) in Xen Orchestra                                         |
| `list_vms`                   | List virtual machines in Xen Orchestra with optional filtering                        |
| `get_vm_details`             | Get detailed information about a specific virtual machine                             |
| `get_infrastructure_summary` | Get a high-level summary of the entire XO infrastructure (pools, hosts, VMs counts)   |
| `search_documentation`       | Search and retrieve Xen Orchestra documentation                                       |

Full documentation with tool parameters, examples, and troubleshooting: [docs.xen-orchestra.com/mcp](https://docs.xen-orchestra.com/mcp)
